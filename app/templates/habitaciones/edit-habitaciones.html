{% extends "layout.html" %}
{% block body %}
<div class="container">
    <h1>Editar Habitación</h1>
    <form action="{{ url_for('update_habitacion', id=habitacion['id']) }}" method="POST">
        <div class="form-group">
            <label for="numero">Número</label>
            <input type="text" name="numero" id="numero" class="form-control" value="{{ habitacion['numero'] }}" required>
        </div>
        <div class="form-group">
            <label for="tipo">Tipo</label>
            <input type="text" name="tipo" id="tipo" class="form-control" value="{{ habitacion['tipo'] }}" required>
        </div>
        <div class="form-group">
            <label for="precio">Precio</label>
            <input type="number" name="precio" id="precio" class="form-control" value="{{ habitacion['precio'] }}" required>
        </div>
        <div class="form-group">
            <label for="sucursal_id">Sucursal</label>
            <select name="sucursal_id" id="sucursal_id" class="form-control" required>
                {% for sucursal in sucursales %}
                    <option value="{{ sucursal['id'] }}" {% if sucursal['id'] == habitacion['sucursal_id'] %}selected{% endif %}>{{ sucursal['nombre'] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="estado">Estado de la Reserva</label>
            <select name="estado" id="estado" class="form-control" required>
            <option value="pendiente" {% if habitacion['estado'] == 'pendiente' %}selected{% endif %}>Pendiente</option>
            <option value="confirmada" {% if habitacion['estado'] == 'confirmada' %}selected{% endif %}>Confirmada</option>
            <option value="cancelada" {% if habitacion['estado'] == 'cancelada' %}selected{% endif %}>Cancelada</option>
            </select>
        </div>
        <div class="form-group">
            <label for="servicios">Servicios</label>
            <select name="servicios" id="servicios" class="form-control" multiple>
                {% for servicio in servicios %}
                    <option value="{{ servicio['id'] }}" {% if servicio['id'] in detalles %}selected{% endif %}>{{ servicio['nombre'] }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
</div>
{% endblock %}